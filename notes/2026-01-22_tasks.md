
0. Review claude.md and check for inconsistencies and typos. If none, commit to git with simple message.

1. Review the code in code/explore_persistence.do. 
    This is meant to see whether people participating in the follow-up study
    remember anything about the original intervention. There are two things to remember.
    Do they remember participating at all and remember being told about manufacturer trial
    (everyone should remember), university trial (only arm_n=2 or 3 should), gavi
    (no one should). Second, do they remember the information about side effect rates
    from placebo and vaccine arm of clinical trial? The code starts by checking 
    for differential attrition. Note any apaprent errors or inconsistencies, as well as opportuntities to improve code (promote readability without adding too much length).

2. Update the code to produce nicely formatted .tex output. Each set of results
    (attrition, recall of study, guess for adverse event rates) should be in its own
    table. Each table should report regression coefficients on each treatment arm indicator, with different columns for different outcomes. There should be a bottom row which reports the control group mean. Review other code to see how this should be formatted

3. Develop a plan for abstracting the table generation. For this project there are at least two kinds of tables, balance tables and results tables. Balance tables show unconditional means by treatment arm. Each row is a variable and each column is a treatment arm. They also have a column for p-values, and rows for sample size and omnibus p-values. Results tables show regression coefficients. Each column is a regression with a different outcome and there are rows for coefficients on treatment indicators and standard errors, plus a row for control mean and a row for sample size. Review balance_tables.do and treatment_effects.do for formatting details.

For balance tables, I would like a function with the following set up:
    balance_table VARLIST, group(TREATMENT VAR)
    - VARLIST specifies the rows, i.e. variables that go into the balance table
    - group() specifies the columnms, i.e. a single grouping variable defining treatment or other 

For regressin tables, I would like a function with the following set up:
    regression_table YVARS, keyvars(VARLIST) controls(CONTROL LIST)
    - YVARS is a list of outcome variables
    - keyvars are the variables whose coefficeints should be reported (e.g. treatment arm indicators in this context) and control list is a list of controls whose coefficeints should not be reported. So regression_table y1 y2, keyvars(arm1 arm2 arms3) controls($CONTROLS) would estimate two regerssions, y1 on arm1 arm2 arm3 $controls and y2 on arm1 arm2 arm3 $controls. It would hava column for the y1 results and rows for coefs and SEs on arm1-arm3. The final rows would be control mean and sampl size. 

Your plan sohuld include a series of test cases - minimal examples at least that I can review and verify are corrrect. 